<!DOCTYPE html>
<html lang="en" dir="auto">

<head>
	<meta name="generator" content="Hugo 0.147.3"><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>My New Hugo Site</title>

<meta name="description" content="">
<meta name="author" content="">
<link rel="canonical" href="https://example.org/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.2211ca3164be7830024f6aad2b3a2e520843a64f8f048445c3401c1249aa051d.css" integrity="sha256-IhHKMWS&#43;eDACT2qtKzouUghDpk&#43;PBIRFw0AcEkmqBR0=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://example.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://example.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://example.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://example.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://example.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://example.org/index.xml">
<link rel="alternate" hreflang="en" href="https://example.org/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://example.org/">
  <meta property="og:site_name" content="My New Hugo Site">
  <meta property="og:title" content="My New Hugo Site">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="My New Hugo Site">
<meta name="twitter:description" content="">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "My New Hugo Site",
  "url": "https://example.org/",
  "description": "",
  "logo": "https://example.org/favicon.ico",
  "sameAs": [
      
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://example.org/" accesskey="h" title="My New Hugo Site (Alt + H)">My New Hugo Site</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="first-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">我在幼儿园用lean证明2&#43;2=4
    </h2>
  </header>
  <div class="entry-content">
    <p>Building reliable software is hard – really hard. The scale and complexity of modern systems, the number of people involved, and the range of demands placed on them make it challenging to build software that is even more-or-less correct, much less 100% correct. At the same time, the increasing degree to which information processing is woven into every aspect of society greatly amplifies the cost of bugs and insecurities. Computer scientists and software engineers have responded to these challenges by developing a host of techniques for improving software reliability, ranging from recommendations about managing software projects teams (e.g., extreme programming) to design philosophies for libraries (e.g., model-view-controller, publish-subscribe, etc.) and programming languages (e.g., object-oriented programming, functional programming, …) to mathematical techniques for specifying and reasoning about properties of software and tools for helping validate these properties.
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-06-05 16:44:22 +0800 CST'>June 5, 2025</span></footer>
  <a class="entry-link" aria-label="post link to 我在幼儿园用lean证明2&#43;2=4" href="https://example.org/content/posts/lean-natural-number-game/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">工具理性与价值理性
    </h2>
  </header>
  <div class="entry-content">
    <p>https://sparkpost.wordpress.com/2014/02/25/instrumental-rationality-vs-value-rationality/
</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-29 19:42:19 +0800 CST'>May 29, 2024</span></footer>
  <a class="entry-link" aria-label="post link to 工具理性与价值理性" href="https://example.org/content/posts/instrumental-rationality-vs-value-rationality/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">弗雷格也是纳粹吗？
    </h2>
  </header>
  <div class="entry-content">
    <p>https://www.aisixiang.com/data/106130.html
</p>
  </div>
  <footer class="entry-footer"><span title='2024-05-29 19:42:19 +0800 CST'>May 29, 2024</span></footer>
  <a class="entry-link" aria-label="post link to 弗雷格也是纳粹吗？" href="https://example.org/content/posts/frege/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">读《会饮篇》
    </h2>
  </header>
  <div class="entry-content">
    <p>(搁置）
</p>
  </div>
  <footer class="entry-footer"><span title='2024-04-21 17:41:43 +0800 CST'>April 21, 2024</span></footer>
  <a class="entry-link" aria-label="post link to 读《会饮篇》" href="https://example.org/content/posts/the-symposium/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">读《论自由》
    </h2>
  </header>
  <div class="entry-content">
    <p>(搁置）
</p>
  </div>
  <footer class="entry-footer"><span title='2024-04-08 19:18:42 +0800 CST'>April 8, 2024</span></footer>
  <a class="entry-link" aria-label="post link to 读《论自由》" href="https://example.org/content/posts/on-liberty/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Forth: The programming language that writes itself
    </h2>
  </header>
  <div class="entry-content">
    <p>这两天读一篇介绍Forth的文章，非常长，谨慎阅读。
讲了一些Forth的特性（Stack-based, Concatenative programming等），和创始人Chuck Moore发展Forth的历程，以及Forth的一些成功应用。
文章还列出了很多有趣的链接。
</p>
  </div>
  <footer class="entry-footer"><span title='2024-01-08 18:56:42 +0800 CST'>January 8, 2024</span></footer>
  <a class="entry-link" aria-label="post link to Forth: The programming language that writes itself" href="https://example.org/content/posts/forth-reading/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">End of 2023
    </h2>
  </header>
  <div class="entry-content">
    <p>如你所见，今天是2024年的第一天，我在夜晚写下这篇2023年的个人总结。
学习 出于对PL的兴趣，看完了Friedman的EOPL，这书的内容大致是教人实现一个不标准的Ocaml。我把习题做完了，写了非常多的解释器。这是我看的Friedman的第一本书，有时间把其他的作品也读读。
然后出于对编译器的兴趣，又读了一下Jeremy的 Essentials of Compilation 。因为不熟悉汇编，中间抽时间读完了王爽的《汇编语言》，不过读完后感觉这书过时了。和EOPL一样，EOC也是用Scheme作为教学语言，动态类型的语言重构起来很难受。我花了很多时间写GC和寄存器分配，最后写出来的编译器很多bug。虽然Scheme是我的编程语言初恋，但是我不会再用它写大型项目了。或许我应该直接读虎书。
对自己诚实是一个宝贵的品质。我本科的C语言学得很糟糕，对此我感到很焦虑。中间抽空把K&amp;R读完了，没做习题，刷了几道codewars 。我操作系统也没学好，所以我把OSTEP读了一遍。
其它编程语言方面，我看了一点Ocaml的内容，想实现一个编程语言，用来当作找一份相关工作的筹码，但是目前搁置了。等继续学数理逻辑和TAPL的时候再说吧。同时也学了一下Rust，看了一些材料，刷了一些codewars和codeforces。
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-01-01 21:40:28 +0800 CST'>January 1, 2024</span></footer>
  <a class="entry-link" aria-label="post link to End of 2023" href="https://example.org/content/posts/end-of-2023/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">memorized Fibonacci sequence
    </h2>
  </header>
  <div class="entry-content">
    <p>今天在Codewars刷到一题，看到一个人的解答很巧妙。
众所周知，下面这段求斐波那契数列的代码很慢：
fibonacci :: Int -&gt; Integer fibonacci 0 = 0 fibonacci 1 = 1 fibonacci n = fibonacci (n-1) &#43; fibonacci (n-2) 我们可以转成迭代的方式或者使用记忆化搜索。
这是我从SICP的3.5节学到的，利用惰性求值算自然数数列：
nat :: [Int] nat = 0:map (&#43;1) nat ok，你已经学会了怎么求自然数数列，接下来算斐波那契数列吧：
fib :: Int -&gt; [Int] fib = 0:1:zipWith (&#43;) fib (tail fib) 但是能不能在保留树形递归的同时进行记忆化搜索呢？
下面这段代码我觉得非常巧妙：
fibonacci :: Int -&gt; Integer fibonacci = (map fib&#39; [0..] !!) where fib&#39; 0 = 0 fib&#39; 1 = 1 fib&#39; n = fibonacci (n - 1) &#43; fibonacci (n - 2) 以我对Haskell的浅薄理解，我证明不了上述代码有记忆化搜索的性质，希望有高手能教教我。
但是速度肯定是快多了，毕竟Haskell Wiki上是这样说的。
（ok，这个月的博客糊弄完了！）
</p>
  </div>
  <footer class="entry-footer"><span title='2023-12-25 21:40:50 +0800 CST'>December 25, 2023</span></footer>
  <a class="entry-link" aria-label="post link to memorized Fibonacci sequence" href="https://example.org/content/posts/memorized-fibonacci/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">测量TLB的容量和访问TLB的开销
    </h2>
  </header>
  <div class="entry-content">
    <p>TLB的全称是translation lookaside buffer，不懂这个概念的人就不要看下去了，本文只讲讲怎么测量TLB的容量和访问TLB的开销。
先来讲基本思路。假设我们有一个横跨多页的大数组arr，页面大小是4096个字节，int大小为4个字节，那么每页就有1024个数组元素。第1次访问arr[0]，第1次访问arr[1024]，第1次访问arr[2048] …… 于是我们就依次访问了第1页，第2页，第3页……
开一个横跨多页的数组，依次修改各个页里面的数组元素，访问的页面数量逐渐变多，直到超过了TLB的容量，访问数组元素就会变慢，这就是基本思路。
几个问题：
如何知道操作系统的页面大小？ 对于有多个CPU的计算机，为了得到更准确的数据，如何做到程序只在一个CPU上运行？ Talk is cheap, show you my code：
#define _GNU_SOURCE #include &lt;fcntl.h&gt; #include &lt;stdint.h&gt; #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; #include &lt;sys/time.h&gt; #include &lt;unistd.h&gt; #include &lt;sched.h&gt; #define MAX_NUM_PAGES 256 #define TRIALS 10000000 void trials(int jump, int num_pages, int arr[]) { struct timeval start, end; gettimeofday(&amp;start, NULL); for (int i = 0; i &lt; TRIALS; i&#43;&#43;) { for (int i = 0; i &lt; num_pages * jump; i &#43;= jump) { arr[i] &#43;= 1; } } gettimeofday(&amp;end, NULL); uint64_t trial_time = (end.tv_sec - start.tv_sec) * 1000000 &#43; end.tv_usec - start.tv_usec; double one_trial_time = trial_time / (double)(num_pages * TRIALS); printf(&#34;pages:%d, average time:%f\n&#34;, num_pages, one_trial_time); } int main(int argc, char *argv[]) { cpu_set_t cpuset; CPU_ZERO(&amp;cpuset); CPU_SET(0, &amp;cpuset); if (sched_setaffinity(0, sizeof(cpu_set_t), &amp;cpuset)) { fprintf(stderr, &#34;Error setting cpu affinity\n&#34;); exit(EXIT_FAILURE); } int page_size = getpagesize(); int jump = page_size / sizeof(int); int *arr = (int *)calloc(MAX_NUM_PAGES * jump, sizeof(int)); for (int pages = 1; pages &lt; MAX_NUM_PAGES; pages&#43;&#43;) { trials(jump, pages, arr); } } 不开任何优化，使用GCC编译运行，然后查看结果。在我的计算机上，访问页面数量在[1,10]这个区间时，访问一页所需的时间大约为3ns左右；当页面数量落在[11, 26]时，所需时间为6ns左右；继续增加页面数量，所需时间涨到10ns上下了。这说明系统存在二级TLB。我很懒，就不画折线图了。
...</p>
  </div>
  <footer class="entry-footer"><span title='2023-11-21 21:40:28 +0800 CST'>November 21, 2023</span></footer>
  <a class="entry-link" aria-label="post link to 测量TLB的容量和访问TLB的开销" href="https://example.org/content/posts/tlb-measurement/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Reading links
    </h2>
  </header>
  <div class="entry-content">
    <p> https://guest0x0.xyz/ https://ratfactor.com/ https://xfy.vercel.app/ https://sonnet.io/ https://colorforth.github.io/ https://ttalk.im/ https://ice1000.org/ https://hbfs.wordpress.com/ https://hutusi.com/ http://www.aaronsw.com/weblog/ https://williamyaoh.com/ https://kokic.github.io/ https://confoundingcalendar.itch.io/ https://matrix67.itch.io/ https://adriaanm.github.io/ https://yoorkin.github.io/ https://okmij.org/ftp/Haskell/index.html https://kirraobj.github.io/ https://wen.works/ https://smlhelp.github.io/book/ http://staff.ustc.edu.cn/~bjhua/ https://www.henrikkarlsson.xyz/ https://hengchu.github.io/ https://pzqqt.github.io/ https://justine.lol/ https://tianxianzi.me/ https://txyyss.wordpress.com/ https://kirisamemagicshop.github.io/ https://martinlwx.github.io/ </p>
  </div>
  <footer class="entry-footer"></footer>
  <a class="entry-link" aria-label="post link to Reading links" href="https://example.org/content/reading/"></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://example.org/">My New Hugo Site</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
